(function(e){function t(t){for(var r,c,u=t[0],s=t[1],i=t[2],d=0,l=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&l.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},c={app:0},a={app:0},o=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-06d1625e":"3ce2b632","chunk-2d212bc4":"3f86766c","chunk-332fd24f":"fb19f305","chunk-3fbcdb4e":"f2bb234a","chunk-50c764dc":"b00f4d6a","chunk-ca715048":"8a11890e","chunk-ce17c458":"1ae579a1","chunk-def61b44":"a4f8c090"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-06d1625e":1,"chunk-332fd24f":1,"chunk-50c764dc":1,"chunk-ca715048":1,"chunk-ce17c458":1,"chunk-def61b44":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-06d1625e":"67c5e70e","chunk-2d212bc4":"31d6cfe0","chunk-332fd24f":"12c9018f","chunk-3fbcdb4e":"31d6cfe0","chunk-50c764dc":"17c191af","chunk-ca715048":"9f5a73df","chunk-ce17c458":"a0e33e73","chunk-def61b44":"93b7b76e"}[e]+".css",a=s.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var i=o[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){i=l[u],d=i.getAttribute("data-href");if(d===r||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[e],f.parentNode.removeChild(f),n(o)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){c[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e);var l=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-project/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2f7a":function(e,t,n){"use strict";n("cce8")},"44b1":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0");var r,c=n("7a23"),a=n("6c02"),o=n("5502"),u={registerCoach:function(e,t){e.coaches.push(t)},setCoaches:function(e,t){e.coaches=t},setFetchTimestamp:function(e){e.lastFetch=(new Date).getTime()}},s=n("5530"),i=n("1da1"),d=(n("96cf"),n("99af"),n("a4d3"),n("e01a"),n("bc3a")),l=n.n(d),f={registerCoach:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,c,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.rootGetters.userId,c={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},a=e.rootGetters.token,n.prev=3,n.next=6,l.a.put("/coaches/".concat(r,".json?auth=").concat(a),c);case 6:n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](3),new Error(n.t0.message||"Failed to register a coach!");case 11:e.commit("registerCoach",Object(s["a"])(Object(s["a"])({},c),{},{userId:r}));case 12:case"end":return n.stop()}}),n,null,[[3,8]])})))()},loadCoaches:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.forceRefresh||e.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return r=[],n.prev=3,n.next=6,l.a.get("/coaches.json");case 6:for(a in c=n.sent,c.data)o={id:a,firstName:c.data[a].firstName,lastName:c.data[a].lastName,description:c.data[a].description,hourlyRate:c.data[a].hourlyRate,areas:c.data[a].areas},r.push(o);n.next=13;break;case 10:throw n.prev=10,n.t0=n["catch"](3),new Error(n.t0.message||"Failed to fetch coaches!");case 13:e.commit("setCoaches",r),e.commit("setFetchTimestamp");case 15:case"end":return n.stop()}}),n,null,[[3,10]])})))()}},h={coaches:function(e){return e.coaches},hasCoaches:function(e){return e.coaches&&e.coaches.length>0},isCoach:function(e,t,n,r){var c=t.coaches,a=r.userId;return c.some((function(e){return e.id===a}))},shouldUpdate:function(e){var t=e.lastFetch;if(!t)return!0;var n=(new Date).getTime();return(n-t)/1e3>60}},b={namespaced:!0,state:function(){return{lastFetch:null,coaches:[]}},getters:h,mutations:u,actions:f},p=(n("4de4"),{requests:function(e,t,n,r){var c=r.userId;return e.requests.filter((function(e){return e.coachId===c}))},hasRequests:function(e,t){return t.requests&&t.requests.length>0}}),m={addRequest:function(e,t){e.requests.push(t)},setRequests:function(e,t){e.requests=t}},g=(n("b0c0"),{contactCoach:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={userEmail:t.email,message:t.message},c=null,n.prev=2,n.next=5,l.a.post("/requests/".concat(t.coachId,".json"),r);case 5:c=n.sent,n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](2),new Error(n.t0.message||"Failed to send your request!");case 11:r.id=c.data.name,r.coachId=t.coachId,e.commit("addRequest",r);case 14:case"end":return n.stop()}}),n,null,[[2,8]])})))()},fetchRequests:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],r=e.rootGetters.userId,c=e.rootGetters.token,t.prev=3,t.next=6,l.a.get("/requests/".concat(r,".json?auth=").concat(c));case 6:for(o in a=t.sent,a.data)u={id:o,coachId:r,userEmail:a.data[o].userEmail,message:a.data[o].message},n.push(u);t.next=13;break;case 10:throw t.prev=10,t.t0=t["catch"](3),new Error(t.t0.message||"Failed to load request!");case 13:e.commit("setRequests",n);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}),j={namespaced:!0,state:function(){return{requests:[]}},getters:p,mutations:m,actions:g},v={setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout:function(e){e.didAutoLogout=!0}},O=l.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1"}),k=O,y={key:"AIzaSyB_cc39MmtYLNDUfRW5cN3c7TD9SfOFiws"},w={auth:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var c,a,o,u,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a="/accounts:signInWithPassword?key=".concat(y.key),o="/accounts:signUp?key=".concat(y.key),u=t.isLogin?a:o,n.prev=3,n.next=6,k.post(u,{email:t.email,password:t.password,returnSecureToken:!0});case 6:c=n.sent,n.next=12;break;case 9:throw n.prev=9,n.t0=n["catch"](3),new Error(n.t0.response.data.error.message||"Failed to authenticate");case 12:s=1e3*+c.data.expiresIn,i=(new Date).getTime()+s,localStorage.setItem("token",c.data.idToken),localStorage.setItem("userId",c.data.localId),localStorage.setItem("tokenExpiration",i),r=setTimeout((function(){e.dispatch("autoLogout")}),s),e.commit("setUser",{token:c.data.idToken,userId:c.data.localId});case 19:case"end":return n.stop()}}),n,null,[[3,9]])})))()},tryLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),c=localStorage.getItem("tokenExpiration"),a=+c-(new Date).getTime();a<0||(r=setTimeout((function(){e.dispatch("autoLogout")}),a),t&&n&&e.commit("setUser",{token:t,userId:n}))},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(r),e.commit("setUser",{userId:null,token:null})},autoLogout:function(e){e.dispatch("logout"),e.commit("setAutoLogout")}},I={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout}},L={state:function(){return{userId:null,token:null,didAutoLogout:!1}},getters:I,mutations:v,actions:w},q=Object(o["a"])({modules:{coaches:b,requests:j,auth:L}}),x=q,C=function(){return n.e("chunk-3fbcdb4e").then(n.bind(null,"591c"))},A=function(){return n.e("chunk-ca715048").then(n.bind(null,"f7b3"))},_=function(){return n.e("chunk-50c764dc").then(n.bind(null,"fbee"))},R=function(){return n.e("chunk-332fd24f").then(n.bind(null,"a980"))},S=function(){return n.e("chunk-def61b44").then(n.bind(null,"416f"))},T=function(){return n.e("chunk-2d212bc4").then(n.bind(null,"aa4b"))},E=function(){return n.e("chunk-ce17c458").then(n.bind(null,"212c"))},B=Object(a["a"])({history:Object(a["b"])(),routes:[{path:"/",redirect:"coaches"},{path:"/coaches",component:_},{path:"/coaches/:id",props:!0,component:C,children:[{path:"contact",component:R}]},{path:"/register",component:A,meta:{requiresAuth:!0}},{path:"/requests",component:S,meta:{requiresAuth:!0}},{path:"/auth",component:E,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:T}]});B.beforeEach((function(e,t,n){e.meta.requiresAuth&&!x.getters.isAuthenticated?n("/auth"):e.meta.requiresUnauth&&x.getters.isAuthenticated?n("/coaches"):n()}));var U=B;function D(e,t,n,r,a,o){var u=Object(c["D"])("TheHeader"),s=Object(c["D"])("router-view");return Object(c["v"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(u),Object(c["k"])(s,null,{default:Object(c["L"])((function(e){return[Object(c["k"])(c["c"],{name:"route",mode:"out-in"},{default:Object(c["L"])((function(){return[(Object(c["v"])(),Object(c["f"])(Object(c["E"])(e.Component)))]})),_:2},1024)]})),_:1})],64)}n("ac1f"),n("5319");Object(c["y"])("data-v-dcc40178");var F=Object(c["j"])(" Find a Coach "),N=Object(c["j"])(" All Coaches "),P={key:0},$=Object(c["j"])(" Requests "),G={key:1},M=Object(c["j"])(" Login "),H={key:2},J=Object(c["j"])(" Logout ");function W(e,t,n,r,a,o){var u=Object(c["D"])("router-link"),s=Object(c["D"])("BaseButton");return Object(c["v"])(),Object(c["h"])("header",null,[Object(c["i"])("nav",null,[Object(c["i"])("h1",null,[Object(c["k"])(u,{to:"/coaches"},{default:Object(c["L"])((function(){return[F]})),_:1})]),Object(c["i"])("ul",null,[Object(c["i"])("li",null,[Object(c["k"])(u,{to:"/coaches"},{default:Object(c["L"])((function(){return[N]})),_:1})]),e.isLoggedIn?(Object(c["v"])(),Object(c["h"])("li",P,[Object(c["k"])(u,{to:"/requests"},{default:Object(c["L"])((function(){return[$]})),_:1})])):Object(c["g"])("",!0),e.isLoggedIn?Object(c["g"])("",!0):(Object(c["v"])(),Object(c["h"])("li",G,[Object(c["k"])(u,{to:"/auth"},{default:Object(c["L"])((function(){return[M]})),_:1})])),e.isLoggedIn?(Object(c["v"])(),Object(c["h"])("li",H,[Object(c["k"])(s,{onClick:o.logoutUser},{default:Object(c["L"])((function(){return[J]})),_:1},8,["onClick"])])):Object(c["g"])("",!0)])])])}Object(c["w"])();var z={name:"TheHeader",computed:Object(s["a"])({},Object(o["c"])({isLoggedIn:"isAuthenticated"})),methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])({logout:"logout"})),{},{logoutUser:function(){this.logout(),this.$router.replace("/coaches")}})};n("7657");z.render=W,z.__scopeId="data-v-dcc40178";var K=z,Y={name:"App",components:{TheHeader:K},computed:Object(s["a"])({},Object(o["c"])({didAutoLogout:"didAutoLogout"})),created:function(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout:function(e,t){e&&e!==t&&this.$router.replace("/coaches")}}};n("d783");Y.render=D;var Q=Y;Object(c["y"])("data-v-25a71dab");var V={class:"card"};function X(e,t,n,r,a,o){return Object(c["v"])(),Object(c["h"])("div",V,[Object(c["C"])(e.$slots,"default",{},void 0,!0)])}Object(c["w"])();var Z={name:"BaseCard"};n("2f7a");Z.render=X,Z.__scopeId="data-v-25a71dab";var ee=Z;n("9911");function te(e,t,n,r,a,o){var u=Object(c["D"])("router-link");return n.link?(Object(c["v"])(),Object(c["f"])(u,{key:1,class:Object(c["r"])(n.mode),to:n.to},{default:Object(c["L"])((function(){return[Object(c["C"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["class","to"])):(Object(c["v"])(),Object(c["h"])("button",{key:0,class:Object(c["r"])(n.mode)},[Object(c["C"])(e.$slots,"default",{},void 0,!0)],2))}var ne={name:"BaseButton",props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};n("ab0d");ne.render=te,ne.__scopeId="data-v-6276b2cf";var re=ne;function ce(e,t,n,r,a,o){return Object(c["v"])(),Object(c["h"])("span",{class:Object(c["r"])(["badge",n.type])},Object(c["G"])(o.text),3)}var ae={name:"BaseBadge",props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}};n("6fd7");ae.render=ce,ae.__scopeId="data-v-37d9b3e7";var oe=ae,ue=Object(c["l"])((function(){return n.e("chunk-06d1625e").then(n.bind(null,"ae92"))})),se=Object(c["e"])(Q);se.component("BaseCard",ee),se.component("BaseButton",re),se.component("BaseBadge",oe),se.component("BaseDialog",ue),se.use(U),se.use(x),l.a.defaults.baseURL="https://vue-course-c2822-default-rtdb.europe-west1.firebasedatabase.app",se.mount("#app")},"6fd7":function(e,t,n){"use strict";n("7099")},7099:function(e,t,n){},7657:function(e,t,n){"use strict";n("dd44")},ab0d:function(e,t,n){"use strict";n("c87d")},c87d:function(e,t,n){},cce8:function(e,t,n){},d783:function(e,t,n){"use strict";n("44b1")},dd44:function(e,t,n){}});
//# sourceMappingURL=app.ddb4ee68.js.map