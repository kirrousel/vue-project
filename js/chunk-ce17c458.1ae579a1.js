(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce17c458"],{"212c":function(e,t,n){"use strict";n.r(t);var r=n("7a23");Object(r["y"])("data-v-6ec5e4ec");var i={class:"form-control"},c=Object(r["i"])("label",{for:"email"},"Email",-1),a={class:"form-control"},o=Object(r["i"])("label",{for:"password"},"Password",-1),s={key:0};function u(e,t,n,u,d,l){var b=Object(r["D"])("BaseDialog"),f=Object(r["D"])("BaseSpinner"),p=Object(r["D"])("BaseButton"),j=Object(r["D"])("BaseCard");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["k"])(b,{show:!!d.error,title:"Error occurred",onClose:l.handleError},{default:Object(r["L"])((function(){return[Object(r["i"])("p",null,Object(r["G"])(d.error),1)]})),_:1},8,["show","onClose"]),Object(r["k"])(b,{fixed:"",show:d.isLoading,title:"Authenticating"},{default:Object(r["L"])((function(){return[Object(r["k"])(f)]})),_:1},8,["show"]),Object(r["k"])(j,null,{default:Object(r["L"])((function(){return[Object(r["i"])("form",{onSubmit:t[2]||(t[2]=Object(r["N"])((function(){return l.submitForm&&l.submitForm.apply(l,arguments)}),["prevent"]))},[Object(r["i"])("div",i,[c,Object(r["M"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return d.email=e})},null,512),[[r["J"],d.email,void 0,{trim:!0}]])]),Object(r["i"])("div",a,[o,Object(r["M"])(Object(r["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return d.password=e})},null,512),[[r["J"],d.password,void 0,{trim:!0}]])]),d.formIsValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",s," Please enter a valid email and password must be at least 6 characters long. ")),Object(r["k"])(p,null,{default:Object(r["L"])((function(){return[Object(r["j"])(Object(r["G"])(l.submitButtonCaption),1)]})),_:1}),Object(r["k"])(p,{type:"button",mode:"flat",onClick:l.switchAuthMode},{default:Object(r["L"])((function(){return[Object(r["j"])(Object(r["G"])(l.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}Object(r["w"])();var d=n("1da1"),l=n("5530"),b=(n("96cf"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("5502")),f=n("94f4"),p={name:"UserAuth",components:{BaseSpinner:f["a"]},data:function(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:Object(l["a"])(Object(l["a"])({},Object(b["b"])({auth:"auth"})),{},{submitForm:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formIsValid=!0,""!==e.email&&e.email.includes("@")&&!(e.password.length<6)){t.next=4;break}return e.formIsValid=!1,t.abrupt("return");case 4:if(e.isLoading=!0,t.prev=5,n="/"+(e.$route.query.redirect||"coaches"),"login"!==e.mode){t.next=13;break}return t.next=10,e.auth({email:e.email,password:e.password,isLogin:!0});case 10:e.$router.replace(n),t.next=16;break;case 13:return t.next=15,e.auth({email:e.email,password:e.password,isLogin:!1});case 15:e.$router.replace(n);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](5),e.error=t.t0.message||"Failed to authenticate, try later.";case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[5,18]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}})};n("5cb5");p.render=u,p.__scopeId="data-v-6ec5e4ec";t["default"]=p},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),c=n("1d80"),a=n("577e"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~a(c(this)).indexOf(a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"3ec8":function(e,t,n){"use strict";n("cf1f")},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),c=n("b622"),a=c("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5cb5":function(e,t,n){"use strict";n("b873")},"94f4":function(e,t,n){"use strict";var r=n("7a23");Object(r["y"])("data-v-5147169a");var i={class:"spinner"},c=Object(r["i"])("div",{class:"lds-roller"},[Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div")],-1),a=[c];function o(e,t){return Object(r["v"])(),Object(r["h"])("div",i,a)}Object(r["w"])();n("3ec8");const s={};s.render=o,s.__scopeId="data-v-5147169a";t["a"]=s},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},b873:function(e,t,n){},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,c=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cf1f:function(e,t,n){}}]);
//# sourceMappingURL=chunk-ce17c458.1ae579a1.js.map